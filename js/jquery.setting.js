"use strict";function getParam(e){var a=new RegExp("^.*[?&]"+e+"[=]([^&]+).*$","i");if(!a.test(location.search))return null;var t=location.search.replace(a,"$1");return decodeURIComponent(t)}$(document).ready(function(){function e(){if($(".marquee.pause").length)return!1;var e=$("li.active",d),a=e.prev().length?e.prev():$("li:last",d);TweenMax.set(a,{top:"0em",left:0}),TweenMax.set(e,{top:"1.5em",left:0}),TweenMax.to(a,c,{left:d.width()<a.width()?d.width()-a.width():0}),TweenMax.to(a,u,{top:"-1.5em",delay:c}),TweenMax.to(e,u,{top:"0em",delay:c})}function a(e,a){var t=$(".tabs",v),n=$(".filters",v);$.each(e,function(){var e=$("<label></label>").html(this.name);this.name==a.name&&(e.addClass("active"),$.each(this.filterContents,function(){var e=$("<label></label>").html(this),t=$("<li></li>").append(e);this==a.content&&e.addClass("active"),n.append(t)})),t.append(e)})}function t(e){var a=$(".result .list",v);$.each(e,function(){var e=this,t=$(".tpl ."+e.type+"-result",v).clone();$.each(e,function(e,a){$("."+e,t).html(a)});var n=$("<li></li>").append(t);a.append(n)})}function n(e){e&&$.each(e,function(e,a){g[e]=a}),$.ajax({url:"search.json",data:g,method:"get"}).success(function(e){a(e.filters,e.currentFilter),t(e.data)}).fail(function(e){console.log(e.responseText)})}$("#gallery-area").owlCarousel({autoplay:!0,autoplayTimeout:3e3,nav:!0,loop:!0,dots:!0,items:1,autoWidth:!0,center:!0,navText:[", "]}),$("#recommend-area").owlCarousel({autoplay:!0,autoplayTimeout:3e3,nav:!0,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:5,margin:16,center:!0}),$("#ad-area1").owlCarousel({autoplay:!0,autoplayTimeout:2e3,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:1,center:!0}),$("#ad-area2").owlCarousel({autoplay:!0,autoplayTimeout:2e3,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,item:1,center:!0}),$("#ad-area3").owlCarousel({autoplay:!0,autoplayTimeout:2e3,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:1,center:!0}),$("#ad-area4").owlCarousel({autoplay:!0,autoplayTimeout:2e3,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:1,center:!0}),$("#ad-area5").owlCarousel({autoplay:!0,autoplayTimeout:2e3,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:1,center:!0}),$("#video-gallery").owlCarousel({autoplay:!0,autoplayTimeout:3e3,nav:!0,loop:!0,dots:!1,autoplayHoverPause:!0,autoWidth:!0,items:3,margin:32,center:!0});var o=0;$(".location-tab").each(function(){var e=$(this),a=$("ul.tabs li",e).eq(o).addClass("active");$(a.find("a").attr("href")).siblings().hide(),$("ul.tabs li",e).click(function(){var e=$(this),a=e.find("a").attr("href");return e.addClass("active").siblings(".active").removeClass("active"),$(a).stop(!1,!0).fadeIn().siblings().hide(),!1}).find("a").focus(function(){this.blur()})});var i=0;$(".scroll-btn").click(function(){i+=300,$(".cyears-tabs").animate({scrollTop:i})}),$("#2017events").click(function(){$(".events2017").fadeIn(500),$(".events2016").hide(),$(".events2015").hide(),$(".events2014").hide()}),$("#2016events").click(function(){$(".events2016").fadeIn(500),$(".events2017").hide(),$(".events2014").hide(),$(".events2015").hide()}),$("#2015events").click(function(){$(".events2015").fadeIn(500),$(".events2016").hide(),$(".events2017").hide(),$(".events2014").hide()}),$("#2014events").click(function(){$(".events2014").fadeIn(500),$(".events2015").hide(),$(".events2016").hide(),$(".events2017").hide()}),$("#company").click(function(){$(".company").fadeIn(500),$(".sign").hide(),$(".department").hide()}),$("#sign").click(function(){$(".sign").fadeIn(500),$(".department").hide(),$(".company").hide()}),$("#department").click(function(){$(".department").fadeIn(500),$(".company").hide(),$(".sign").hide()}),$("#allnews").click(function(){$(".allnews").fadeIn(500),$(".companys").hide()}),$("#companys").click(function(){$(".companys").fadeIn(500),$(".allnews").hide()}),$("div.navigation").css({width:"165px","float":"left"}),$("div.content").css("display","block");var l=.67;if($("#thumbs ul.thumbs li").opacityrollover({mouseOutOpacity:l,mouseOverOpacity:1,fadeSpeed:"fast",exemptionSelector:".selected"}),$("#thumbs").length){var s=$("#page").length?12:18;$("#thumbs").galleriffic({delay:2500,numThumbs:s,preloadAhead:10,enableTopPager:!1,enableBottomPager:!0,maxPagesToShow:2,imageContainerSel:"#slideshow",ssControlsContainerSel:"#controls",navControlsContainerSel:"#nav",captionContainerSel:"#caption",loadingContainerSel:"#loading",renderSSControls:!1,renderNavControls:!0,playLinkText:"Play Slideshow",pauseLinkText:"Pause Slideshow",prevLinkText:"&#xf053;",nextLinkText:"&#xf054;",nextPageLinkText:"&#xf054;",prevPageLinkText:"&#xf053;",enableHistory:!1,autoStart:!1,syncTransitions:!1,defaultTransitionDuration:900,onSlideChange:function(e,a){this.find("ul.thumbs").children().eq(e).fadeTo("fast",l).end().eq(a).fadeTo("fast",1),this.$captionContainer.find("div.photo-index").html("照片總數： "+(a+1)+" of "+this.data.length)},onPageTransitionOut:function(e){this.fadeTo("fast",0,e)},onPageTransitionIn:function(){this.fadeTo("fast",1)}})}if($("[role=events]").length&&!function(e){var a=$("#scroll",e).data();console.log(a);var t=$("li",e).length;a.vertical=!0,a.infinite=!1,a.centerMode=!1,$("#scroll",e).slick(a).on("afterChange",function(e,a,t){console.log(a,t),0==t&&($(".slick-prev").addClass("fade").removeClass("in"),$(".slick-next").addClass("in")),t>=a.slideCount-10&&($(".slick-next").addClass("fade").removeClass("in"),$(".slick-prev").addClass("in"))}),0==a.initialSlide&&($(".slick-prev").addClass("fade").removeClass("in"),$(".slick-next").addClass("in")),a.initialSlide>=t-10&&($(".slick-next").addClass("fade").removeClass("in"),$(".slick-prev").addClass("in"))}($("[role=events]")),$(".marquee").length){var r=$(".marquee").data(),d=$(".marquee"),c=r.speed||10,u=r.vspeed||1,h=r.gap||5;TweenMax.set($("li",d),{top:"1.5em",left:0}),$(".marquee").addClass("pause"),$(window).on("mousemove",function(){$(".marquee.pause").length&&($(".marquee").removeClass("pause"),TweenMax.set($("li",d),{top:"1.5em",left:0}),setInterval(function(){var a=$("li.active",d),t=a.next().length?a.next():$("li:first",d);t.addClass("active").siblings().removeClass("active"),e()},1e3*h+1e3*c+1e3*u))}).trigger("mousemove"),$(window).on("mouseout",function(){$(".marquee").addClass("pause"),TweenMax.killAll()}).trigger("mouseout")}var f=$(".veno").venobox({cb_post_open:function(e,a,t,n){$(".veno-close").on("click",function(){f.VBclose()})}});if($(".watermark-container").length){var p=$(".watermark-container"),m=$("[data-watermark]").data("watermark");p.each(function(){var e=document.createElement("canvas"),a=e.getContext("2d"),t=$("[data-watermark]").data(),n=t.tilt=t.tilt*Math.PI/180||-15*Math.PI/180,o=t.fontSize=t.fontSize||24,i=t.gapWidth=t.gapWidth||224,l=t.gapHeight=t.gapHeight||86,s=t.color=t.color||"#e8e8e8",r=t.font=o+"px Arial",d=t.tiltOffset=Math.sin(-n)*(a.measureText(m).width+t.fontSize);d=80,a.save(),e.width=2*a.measureText(m).width+1.5*i,e.height=2*o+2*l,a.font=r,a.fillStyle=s,a.rotate(n),a.fillText(m,i,l+2*o+d),a.fillText(m,0,o+d);var c=e.toDataURL(),u=document.createElement("i");u.style.backgroundImage="url("+c+")",$(u).addClass("watermark").appendTo(this)})}if($(".lang").length&&($(".lang a.en").on("click",function(e){$("html").attr("lang","en")}),$(".lang a.zh").on("click",function(e){$("html").attr("lang","zh")})),$("[role=member] .location-img").length&&$("[role=member] .location-img").slick({arrows:!1,dots:!0}),$("[role=search]").length){var v=$("[role=search]"),g=window.searchOpt={page:1,limits:10};getParam("q")&&n({keyword:getParam("q")})}});